{"name":"Js-write-once-run-anywhere","tagline":"","body":"# Java[Script] : Write once run anywhere \r\n\r\n- The Java lang arguments \r\n\r\n## The promise of node.js\r\n\r\n - But some early attempts like Jaxer, Mozilla Rhino, etc.\r\n - The same code on browsers, servers, microcontrollers, etc.\r\n \r\n## How to write a library that can be integrated in any environments ?\r\n \r\n### Which version of the languages \r\n\r\n - ES3, ES5 or ES6/7 ?\r\n - ES5 because of https://github.com/es-shims/es5-shim\r\n - Missing block : module system\r\n\r\n### Old school\r\n\r\n_NO MODULES_\r\n \r\n - export to global context\r\n\r\nDeclaration :\r\n```js\r\nvar aja = {\r\n awesome : function(){\r\n    console.log('awesome');\r\n }\r\n};\r\nwindow.aja = window.aja || aja;\r\n```\r\n\r\nUsage :\r\n```js\r\nwindow.aja.awesome();\r\n```\r\n\r\n### Common JS\r\n\r\n - runs on node.js, io.js, browserify\r\n\r\nDeclaration :\r\n```js\r\nvar aja = {\r\n awesome : function(){\r\n    console.log('awesome');\r\n }\r\n};\r\nmodule.exports = aja;\r\n```\r\n\r\nUsage :\r\n```js\r\nvar aja = require('aja');\r\naja.awesome();\r\n```\r\n\r\n### AMD\r\n\r\n  - require.js, almond, etc.\r\n\r\nDeclaration :\r\n```js\r\ndefine([], function(){\r\n  var aja = {\r\n   awesome : function(){\r\n      console.log('awesome');\r\n   }\r\n  };\r\n  return aja;\r\n});\r\n```\r\n\r\nUsage :\r\n```js\r\nrequire(['aja'], function(aja){\r\n  aja.awesome();\r\n});\r\n```\r\n\r\n### ES6 imports\r\n\r\n  - standard\r\n\r\nDeclaration :\r\n```js\r\nvar aja = {\r\n awesome : function(){\r\n    console.log('awesome');\r\n }\r\n};\r\nexport default aja;\r\n```\r\n\r\nUsage :\r\n```js\r\nimport aja from 'aja';\r\naja.awesome();\r\n```\r\n\r\n## All together\r\n \r\n```js\r\n(function(){\r\n'use strict';\r\n  var aja = {\r\n   awesome : function(){\r\n      console.log('awesome');\r\n   }\r\n  };\r\n \r\n  //AMD\r\n  if (typeof define === 'function' && define.amd) {\r\n    define([], function(){  //don't name it\r\n      return aja;\r\n    });\r\n  \r\n  //CommonJs\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = aja;\r\n    \r\n  //Old school\r\n  } else {\r\n  window.aja = window.aja || aja;\r\n  }\r\n \r\n });\r\n```\r\n\r\n  Or even better at https://github.com/umdjs/umd\r\n \r\n> But where are ES6 modules?\r\n\r\nImposible to feature detect (at least for now), see http://stackoverflow.com/questions/27922232/how-to-feature-detect-es6-modules\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}